{% comment %}
Button component (atom)
Usage: {% include "components/atoms/buttons/button.html" with variant="primary" text="Button Text" url="#" size="md" %}

Parameters:
- variant: primary (default), secondary, outline, ghost
- text: Text to display on button
- url: URL to navigate to (can be a URL or a template tag like {% url 'name' %} - use with |safe filter)
- size: sm, md (default), lg
- icon: Optional icon name for Lucide icons (e.g., "arrow-right")
- icon_position: left (default) or right
- classes: Optional additional CSS classes
- as_button: Set to True to render as <button> instead of <a>
- button_type: If as_button is True, the button type (submit, button, reset)
- disabled: Set to True to disable the button
{% endcomment %}

{% with variant=variant|default:"primary" %}
{% with size=size|default:"md" %}
{% with icon_position=icon_position|default:"left" %}
{% with as_button=as_button|default:False %}
{% with button_type=button_type|default:"button" %}
{% with disabled=disabled|default:False %}

{% if as_button %}
<button 
  type="{{ button_type }}"
  {% if disabled %}disabled{% endif %}
  class="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-400 focus-visible:ring-offset-2 
  {% if disabled %}opacity-50 cursor-not-allowed pointer-events-none{% endif %}
  {% if variant == 'primary' %}
    bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 text-white 
  {% elif variant == 'secondary' %}
    bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-gray-100
  {% elif variant == 'outline' %}
    border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-900 dark:text-gray-100
  {% elif variant == 'ghost' %}
    hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-900 dark:text-gray-100
  {% endif %}
  
  {% if size == 'sm' %}
    text-sm h-8 px-3
  {% elif size == 'md' %}
    text-base h-10 px-4
  {% elif size == 'lg' %}
    text-lg h-12 px-6
  {% endif %}
  {{ classes|default:'' }}">
  
  {% if icon and icon_position == 'left' %}
  <i data-lucide="{{ icon }}" class="{% if size == 'sm' %}w-4 h-4{% elif size == 'md' %}w-5 h-5{% else %}w-6 h-6{% endif %} mr-2"></i>
  {% endif %}
  
  {{ text }}
  
  {% if icon and icon_position == 'right' %}
  <i data-lucide="{{ icon }}" class="{% if size == 'sm' %}w-4 h-4{% elif size == 'md' %}w-5 h-5{% else %}w-6 h-6{% endif %} ml-2"></i>
  {% endif %}
</button>
{% else %}
<a 
  href="{{ url|default:'#'|safe }}" 
  class="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-400 focus-visible:ring-offset-2 
  {% if disabled %}opacity-50 cursor-not-allowed pointer-events-none{% endif %}
  {% if variant == 'primary' %}
    bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 text-white 
  {% elif variant == 'secondary' %}
    bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-gray-100
  {% elif variant == 'outline' %}
    border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-900 dark:text-gray-100
  {% elif variant == 'ghost' %}
    hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-900 dark:text-gray-100
  {% endif %}
  
  {% if size == 'sm' %}
    text-sm h-8 px-3
  {% elif size == 'md' %}
    text-base h-10 px-4
  {% elif size == 'lg' %}
    text-lg h-12 px-6
  {% endif %}
  {{ classes|default:'' }}">
  
  {% if icon and icon_position == 'left' %}
  <i data-lucide="{{ icon }}" class="{% if size == 'sm' %}w-4 h-4{% elif size == 'md' %}w-5 h-5{% else %}w-6 h-6{% endif %} mr-2"></i>
  {% endif %}
  
  {{ text }}
  
  {% if icon and icon_position == 'right' %}
  <i data-lucide="{{ icon }}" class="{% if size == 'sm' %}w-4 h-4{% elif size == 'md' %}w-5 h-5{% else %}w-6 h-6{% endif %} ml-2"></i>
  {% endif %}
</a>
{% endif %}

{% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}